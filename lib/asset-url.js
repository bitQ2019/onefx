"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true,
});
exports.initAssetURL = initAssetURL;
exports.assetURL = assetURL;
let m = {};
let urlBase = "";

function initAssetURL(manifest = {}, routePrefix = "", cdnBase = "") {
  m = manifest || {};
  const segments = [];

  if (cdnBase) {
    let bs = cdnBase;

    if (bs.endsWith("/")) {
      bs = bs.substring(0, bs.length - 1);
    }

    segments.push(bs);
  } else {
    segments.push("");
  }

  if (routePrefix) {
    segments.push(...routePrefix.split("/").filter((s) => s));
  }

  urlBase = segments.join("/");
}

function assetURL(filename) {
  const manifestFile = m[filename];

  if (manifestFile) {
    return `${urlBase || ""}/${manifestFile}`;
  }

  return `${urlBase || ""}/${filename}`;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9hc3NldC11cmwudHMiXSwibmFtZXMiOlsibSIsInVybEJhc2UiLCJpbml0QXNzZXRVUkwiLCJtYW5pZmVzdCIsInJvdXRlUHJlZml4IiwiY2RuQmFzZSIsInNlZ21lbnRzIiwiYnMiLCJlbmRzV2l0aCIsInN1YnN0cmluZyIsImxlbmd0aCIsInB1c2giLCJzcGxpdCIsImZpbHRlciIsInMiLCJqb2luIiwiYXNzZXRVUkwiLCJmaWxlbmFtZSIsIm1hbmlmZXN0RmlsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBLElBQUlBLENBQU8sR0FBRyxFQUFkO0FBQ0EsSUFBSUMsT0FBZSxHQUFHLEVBQXRCOztBQUVPLFNBQVNDLFlBQVQsQ0FDTEMsUUFBYyxHQUFHLEVBRFosRUFFTEMsV0FBbUIsR0FBRyxFQUZqQixFQUdMQyxPQUFlLEdBQUcsRUFIYixFQUlDO0FBQ05MLEVBQUFBLENBQUMsR0FBR0csUUFBUSxJQUFJLEVBQWhCO0FBQ0EsUUFBTUcsUUFBUSxHQUFHLEVBQWpCOztBQUNBLE1BQUlELE9BQUosRUFBYTtBQUNYLFFBQUlFLEVBQUUsR0FBR0YsT0FBVDs7QUFDQSxRQUFJRSxFQUFFLENBQUNDLFFBQUgsQ0FBWSxHQUFaLENBQUosRUFBc0I7QUFDcEJELE1BQUFBLEVBQUUsR0FBR0EsRUFBRSxDQUFDRSxTQUFILENBQWEsQ0FBYixFQUFnQkYsRUFBRSxDQUFDRyxNQUFILEdBQVksQ0FBNUIsQ0FBTDtBQUNEOztBQUNESixJQUFBQSxRQUFRLENBQUNLLElBQVQsQ0FBY0osRUFBZDtBQUNELEdBTkQsTUFNTztBQUNMRCxJQUFBQSxRQUFRLENBQUNLLElBQVQsQ0FBYyxFQUFkO0FBQ0Q7O0FBQ0QsTUFBSVAsV0FBSixFQUFpQjtBQUNmRSxJQUFBQSxRQUFRLENBQUNLLElBQVQsQ0FBYyxHQUFHUCxXQUFXLENBQUNRLEtBQVosQ0FBa0IsR0FBbEIsRUFBdUJDLE1BQXZCLENBQThCQyxDQUFDLElBQUlBLENBQW5DLENBQWpCO0FBQ0Q7O0FBQ0RiLEVBQUFBLE9BQU8sR0FBR0ssUUFBUSxDQUFDUyxJQUFULENBQWMsR0FBZCxDQUFWO0FBQ0Q7O0FBRU0sU0FBU0MsUUFBVCxDQUFrQkMsUUFBbEIsRUFBNEM7QUFDakQsUUFBTUMsWUFBWSxHQUFHbEIsQ0FBQyxDQUFDaUIsUUFBRCxDQUF0Qjs7QUFDQSxNQUFJQyxZQUFKLEVBQWtCO0FBQ2hCLFdBQVEsR0FBRWpCLE9BQU8sSUFBSSxFQUFHLElBQUdpQixZQUFhLEVBQXhDO0FBQ0Q7O0FBRUQsU0FBUSxHQUFFakIsT0FBTyxJQUFJLEVBQUcsSUFBR2dCLFFBQVMsRUFBcEM7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpY3QgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5sZXQgbTogRGljdCA9IHt9O1xubGV0IHVybEJhc2U6IHN0cmluZyA9IFwiXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0QXNzZXRVUkwoXG4gIG1hbmlmZXN0OiBEaWN0ID0ge30sXG4gIHJvdXRlUHJlZml4OiBzdHJpbmcgPSBcIlwiLFxuICBjZG5CYXNlOiBzdHJpbmcgPSBcIlwiXG4pOiB2b2lkIHtcbiAgbSA9IG1hbmlmZXN0IHx8IHt9O1xuICBjb25zdCBzZWdtZW50cyA9IFtdO1xuICBpZiAoY2RuQmFzZSkge1xuICAgIGxldCBicyA9IGNkbkJhc2U7XG4gICAgaWYgKGJzLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgYnMgPSBicy5zdWJzdHJpbmcoMCwgYnMubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIHNlZ21lbnRzLnB1c2goYnMpO1xuICB9IGVsc2Uge1xuICAgIHNlZ21lbnRzLnB1c2goXCJcIik7XG4gIH1cbiAgaWYgKHJvdXRlUHJlZml4KSB7XG4gICAgc2VnbWVudHMucHVzaCguLi5yb3V0ZVByZWZpeC5zcGxpdChcIi9cIikuZmlsdGVyKHMgPT4gcykpO1xuICB9XG4gIHVybEJhc2UgPSBzZWdtZW50cy5qb2luKFwiL1wiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2V0VVJMKGZpbGVuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBtYW5pZmVzdEZpbGUgPSBtW2ZpbGVuYW1lXTtcbiAgaWYgKG1hbmlmZXN0RmlsZSkge1xuICAgIHJldHVybiBgJHt1cmxCYXNlIHx8IFwiXCJ9LyR7bWFuaWZlc3RGaWxlfWA7XG4gIH1cblxuICByZXR1cm4gYCR7dXJsQmFzZSB8fCBcIlwifS8ke2ZpbGVuYW1lfWA7XG59XG4iXX0=
