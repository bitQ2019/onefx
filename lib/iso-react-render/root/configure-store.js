"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true,
});
exports.configureStore = configureStore;

var _isBrowser = _interopRequireDefault(require("is-browser"));

var _redux = require("redux");

var _reduxThunk = _interopRequireDefault(require("redux-thunk"));

var _rootReducer = require("./root-reducer");

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function configureStore(initialState, reducer = _rootReducer.rootReducer) {
  const middleware = [];

  if (_isBrowser.default) {
    middleware.push(_reduxThunk.default);
  }

  const enhancers = [(0, _redux.applyMiddleware)(...middleware)]; // @ts-ignore

  if (_isBrowser.default && window && window.__REDUX_DEVTOOLS_EXTENSION__) {
    // @ts-ignore
    enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());
  }

  return (0, _redux.createStore)(
    reducer,
    initialState,
    (0, _redux.compose)(...enhancers)
  );
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9pc28tcmVhY3QtcmVuZGVyL3Jvb3QvY29uZmlndXJlLXN0b3JlLnRzIl0sIm5hbWVzIjpbImNvbmZpZ3VyZVN0b3JlIiwiaW5pdGlhbFN0YXRlIiwicmVkdWNlciIsInJvb3RSZWR1Y2VyIiwibWlkZGxld2FyZSIsImlzQnJvd3NlciIsInB1c2giLCJ0aHVuayIsImVuaGFuY2VycyIsIndpbmRvdyIsIl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX18iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7OztBQUVPLFNBQVNBLGNBQVQsQ0FDTEMsWUFESyxFQUVMQyxPQUFnQixHQUFHQyx3QkFGZCxFQUdhO0FBQ2xCLFFBQU1DLFVBQVUsR0FBRyxFQUFuQjs7QUFDQSxNQUFJQyxrQkFBSixFQUFlO0FBQ2JELElBQUFBLFVBQVUsQ0FBQ0UsSUFBWCxDQUFnQkMsbUJBQWhCO0FBQ0Q7O0FBRUQsUUFBTUMsU0FBUyxHQUFHLENBQUMsNEJBQWdCLEdBQUdKLFVBQW5CLENBQUQsQ0FBbEIsQ0FOa0IsQ0FRbEI7O0FBQ0EsTUFBSUMsc0JBQWFJLE1BQWIsSUFBdUJBLE1BQU0sQ0FBQ0MsNEJBQWxDLEVBQWdFO0FBQzlEO0FBQ0FGLElBQUFBLFNBQVMsQ0FBQ0YsSUFBVixDQUFlRyxNQUFNLENBQUNDLDRCQUFQLEVBQWY7QUFDRDs7QUFFRCxTQUFPLHdCQUFZUixPQUFaLEVBQXFCRCxZQUFyQixFQUFtQyxvQkFBUSxHQUFHTyxTQUFYLENBQW5DLENBQVA7QUFDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpc0Jyb3dzZXIgZnJvbSBcImlzLWJyb3dzZXJcIjtcbmltcG9ydCB7IGFwcGx5TWlkZGxld2FyZSwgY29tcG9zZSwgY3JlYXRlU3RvcmUsIFJlZHVjZXIsIFN0b3JlIH0gZnJvbSBcInJlZHV4XCI7XG5pbXBvcnQgdGh1bmsgZnJvbSBcInJlZHV4LXRodW5rXCI7XG5pbXBvcnQgeyBWaWV3U3RhdGUgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IHJvb3RSZWR1Y2VyIH0gZnJvbSBcIi4vcm9vdC1yZWR1Y2VyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmVTdG9yZShcbiAgaW5pdGlhbFN0YXRlOiB7IGJhc2U6IG9iamVjdCB9LFxuICByZWR1Y2VyOiBSZWR1Y2VyID0gcm9vdFJlZHVjZXJcbik6IFN0b3JlPFZpZXdTdGF0ZT4ge1xuICBjb25zdCBtaWRkbGV3YXJlID0gW107XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBtaWRkbGV3YXJlLnB1c2godGh1bmspO1xuICB9XG5cbiAgY29uc3QgZW5oYW5jZXJzID0gW2FwcGx5TWlkZGxld2FyZSguLi5taWRkbGV3YXJlKV07XG5cbiAgLy8gQHRzLWlnbm9yZVxuICBpZiAoaXNCcm93c2VyICYmIHdpbmRvdyAmJiB3aW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fXykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBlbmhhbmNlcnMucHVzaCh3aW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fXygpKTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGNvbXBvc2UoLi4uZW5oYW5jZXJzKSk7XG59XG4iXX0=
